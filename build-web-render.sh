#!/bin/bash

echo "üöÄ –ù–∞—á–∏–Ω–∞–µ–º —Å–±–æ—Ä–∫—É –≤–µ–±-–≤–µ—Ä—Å–∏–∏ –¥–ª—è Render..."

# –ö–æ–ø–∏—Ä—É–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π package.json
echo "üì¶ –ö–æ–ø–∏—Ä—É–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π package.json..."
cp package.minimal.json package.json

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
echo "üì• –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏..."
npm install

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º Expo CLI –≥–ª–æ–±–∞–ª—å–Ω–æ
echo "üîß –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º Expo CLI..."
npm install -g @expo/cli

# –û—á–∏—â–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Å–±–æ—Ä–∫–∏
echo "üßπ –û—á–∏—â–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Å–±–æ—Ä–∫–∏..."
rm -rf dist .expo

# –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º –≤–µ–±-–≤–µ—Ä—Å–∏—é
echo "üèóÔ∏è –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º –≤–µ–±-–≤–µ—Ä—Å–∏—é..."
npx expo export --platform web --output-dir dist

echo "‚úÖ –°–±–æ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞! –§–∞–π–ª—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –ø–∞–ø–∫–µ dist/"