#!/bin/bash

# –ò—Å–ø—Ä–∞–≤–ª—è–µ–º –ø—Ä–æ–±–ª–µ–º—É —Å —Ñ–∞–π–ª–æ–≤—ã–º–∏ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è–º–∏ –∏ –∑–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
echo "üîß –ò—Å–ø—Ä–∞–≤–ª—è–µ–º –ø—Ä–æ–±–ª–µ–º—É —Å —Ñ–∞–π–ª–æ–≤—ã–º–∏ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è–º–∏..."

# –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –ª–∏–º–∏—Ç –±–µ–∑ sudo (–¥–ª—è —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–∏)
echo 524288 > /proc/sys/fs/inotify/max_user_watches 2>/dev/null || {
    echo "‚ö†Ô∏è  –ù–µ —É–¥–∞–ª–æ—Å—å –∏–∑–º–µ–Ω–∏—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–π –ª–∏–º–∏—Ç. –ü—Ä–æ–±—É–µ–º –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è..."
    
    # –û—á–∏—â–∞–µ–º –∫—ç—à –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
    echo "üßπ –û—á–∏—â–∞–µ–º –∫—ç—à–∏..."
    rm -rf node_modules/.cache
    rm -rf .expo
    rm -rf .metro
    
    # –£–º–µ–Ω—å—à–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞–±–ª—é–¥–∞–µ–º—ã—Ö —Ñ–∞–π–ª–æ–≤
    export WATCHMAN_DISABLE_WATCH=1
    export EXPO_NO_DOTENV=1
}

echo "üöÄ –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ..."

# –ó–∞–ø—É—Å–∫–∞–µ–º —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ–º —Ñ–∞–π–ª–æ–≤
WATCHMAN_DISABLE_WATCH=1 npx expo start --tunnel --port 8081